*{{#if scope}} **{{scope}}:**
{{~/if}} {{#if subject}}
    {{~subject}}
{{~else}}
    {{~header}}
{{~/if}}

{{~!-- commit link --}} {{#if @root.linkReferences~}}
    ([{{shortHash}}](
    {{~#if @root.repository}}
        {{~#if @root.host}}
            {{~@root.host}}/
        {{~/if}}
        {{~#if @root.owner}}
            {{~@root.owner}}/
        {{~/if}}
        {{~@root.repository}}
    {{~else}}
        {{~@root.repoUrl}}
    {{~/if}}/
    {{~@root.commit}}/{{hash}}))
{{~else}}
    {{~shortHash}}
{{~/if}}

{{~!-- commit references --}}
{{~#if references~}}
    , closes
    {{~#each references}} {{#if @root.linkReferences~}}
        [
        {{~#if this.owner}}
            {{~this.owner}}/
        {{~/if}}
        {{~this.repository}}#{{this.issue}}](
        {{~#if this.link}}{{this.link}}{{~else}}{{~#if @root.repository}}{{~else}}{{~/if}}{{~#if @root.repository}}
            {{~#if @root.host}}
                {{~@root.host}}/
            {{~/if}}
            {{~#if this.repository}}
                {{~#if this.owner}}
                    {{~this.owner}}/
                {{~/if}}
                {{~this.repository}}
            {{~else}}
                {{~#if @root.owner}}
                    {{~@root.owner}}/
                {{~/if}}
                {{~@root.repository}}
            {{~/if}}
        {{~else}}
            {{~@root.repoUrl}}
        {{~/if}}/
        {{~@root.issue}}/{{this.issue}}{{~/if}})
    {{~else}}
        {{~#if this.owner}}
            {{~this.owner}}/
        {{~/if}}
        {{~this.repository}}#{{this.issue}}
    {{~/if}}{{/each}}
{{~/if}}
